# ë³µí•© ìš”ì¸ì— ì˜í•œ ì„œìš¸ ì§€í•˜ì²  í˜¼ì¡ë„ ë° ëŸ¬ì‹œì•„ì›Œ ì˜ˆì¸¡ ëª¨ë¸ ê°œë°œ

ì„œìš¸ ì§€í•˜ì²  2,3í˜¸ì„ ì˜ ìŠ¹í•˜ì°¨ ì¸ì›ì„ ì™¸ë¶€ ìš”ì¸(ë‚ ì”¨, ë¬¸í™”í–‰ì‚¬, ì‹œê°„)ì„ ê¸°ë°˜ìœ¼ë¡œ ì˜ˆì¸¡í•˜ëŠ” ë¨¸ì‹ ëŸ¬ë‹ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ ê°œìš”

- **ëª©í‘œ**: ìˆœ ìŠ¹ì°¨ì¸ì›(`net_passengers` = ìŠ¹ì°¨ - í•˜ì°¨) ì˜ˆì¸¡
- **ë°ì´í„°**: 2024ë…„ ì„œìš¸ ì§€í•˜ì²  2,3í˜¸ì„  ìŠ¹í•˜ì°¨/ë‚ ì”¨/ë¬¸í™”í–‰ì‚¬ ë°ì´í„°
- **ëª¨ë¸**: LightGBM, XGBoost, CatBoost + Optuna í•˜ì´í¼íŒŒë¼ë¯¸í„° ìµœì í™” í›„ ì•™ìƒë¸”
- **í‰ê°€ ì§€í‘œ**: RÂ² (ê²°ì •ê³„ìˆ˜)

## í™˜ê²½ ì„¤ì •

### ìš”êµ¬ì‚¬í•­

- Python >= 3.9
- uv

### ì°¸ê³ ì‚¬í•­

- RTX5090 / Ubuntu Server 24.04 ì‚¬ìš©í•˜ì˜€ìŒ 

### ì˜ì¡´ì„± íŒ¨í‚¤ì§€

```
pandas>=2.0.0
scikit-learn>=1.6.1
lightgbm>=4.0.0
xgboost>=2.0.0
catboost>=1.2.0
optuna>=3.5.0
matplotlib>=3.9.4
ipykernel>=6.31.0
joblib>=1.3.0
chardet>=5.2.0
```

### ì„¤ì¹˜ ë°©ë²•

**uv ì‚¬ìš©**
```bash
# uv ì„¤ì¹˜
curl -LsSf https://astral.sh/uv/install.sh | sh

# ì˜ì¡´ì„± ì„¤ì¹˜
uv sync
```

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
.
â”œâ”€â”€ data/                          # ì›ë³¸ ë°ì´í„° (í•„ìˆ˜)
â”‚   â”œâ”€â”€ 2024boarding.csv           # ìŠ¹í•˜ì°¨ ë°ì´í„° (~39MB)
â”‚   â”œâ”€â”€ 2024weather.csv            # ê¸°ìƒì²­ ë‚ ì”¨ ë°ì´í„°
â”‚   â””â”€â”€ 2024seoul_culture_events.csv  # ì„œìš¸ì‹œ ë¬¸í™”í–‰ì‚¬ ë°ì´í„°
â”‚
â”œâ”€â”€ src/                           # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ preprocessing/             # ë°ì´í„° ì „ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ load_data.py           # ë°ì´í„° ë¡œë“œ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ weather_preprocessor.py # ë‚ ì”¨ ë°ì´í„° ì „ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ event_preprocessor.py  # ì´ë²¤íŠ¸ ë°ì´í„° ì „ì²˜ë¦¬
â”‚   â”‚   â””â”€â”€ merge_datasets.py      # ë°ì´í„° ë³‘í•©
â”‚   â”‚
â”‚   â”œâ”€â”€ features/                  # Feature Engineering
â”‚   â”‚   â”œâ”€â”€ feature_pipeline.py    # ì „ì²´ íŒŒì´í”„ë¼ì¸
â”‚   â”‚   â”œâ”€â”€ time_features.py       # ì‹œê°„ feature (~22ê°œ)
â”‚   â”‚   â”œâ”€â”€ weather_features.py    # ë‚ ì”¨ feature (~17ê°œ)
â”‚   â”‚   â”œâ”€â”€ lag_features.py        # Lag/Rolling feature (~40ê°œ)
â”‚   â”‚   â”œâ”€â”€ event_features.py      # ì´ë²¤íŠ¸ feature (~8ê°œ)
â”‚   â”‚   â””â”€â”€ interaction_features.py # êµì°¨ feature (~14ê°œ)
â”‚   â”‚
â”‚   â””â”€â”€ models/                    # ëª¨ë¸ ì •ì˜
â”‚       â”œâ”€â”€ base_model.py          # ê¸°ë³¸ ëª¨ë¸ í´ë˜ìŠ¤
â”‚       â””â”€â”€ v6_pure_external.py    # V6 ìˆœìˆ˜ ì™¸ë¶€ìš”ì¸ ëª¨ë¸
â”‚
â”œâ”€â”€ experiments/                   # ì‹¤í—˜ ê²°ê³¼
â”‚   â”œâ”€â”€ v1/ ~ v5/                  # ì´ˆê¸° ì‹¤í—˜ë“¤
â”‚   â”œâ”€â”€ v6_0_pure_external/        # V6 ê¸°ë³¸ ì‹¤í—˜
â”‚   â”œâ”€â”€ v6_1_ensemble/             # ì•™ìƒë¸” ì‹¤í—˜
â”‚   â””â”€â”€ v6_2_optuna/               # Optuna ìµœì í™” (ìµœì¢…)
â”‚
â”œâ”€â”€ outputs/                       # ìƒì„±ëœ ì¶œë ¥ íŒŒì¼
â”‚   â”œâ”€â”€ merged_data.csv            # ë³‘í•©ëœ ë°ì´í„°
â”‚   â”œâ”€â”€ featured_data.csv          # Feature ìƒì„±ëœ ë°ì´í„°
â”‚   â”œâ”€â”€ best_params.json           # ìµœì  í•˜ì´í¼íŒŒë¼ë¯¸í„°
â”‚   â”œâ”€â”€ model_comparison.csv       # ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ
â”‚   â””â”€â”€ ensemble_comparison.csv    # ì•™ìƒë¸” ì„±ëŠ¥ ë¹„êµ
â”‚
â”œâ”€â”€ final_end2end_notebook.ipynb   # End-to-End ì¬í˜„ ë…¸íŠ¸ë¶
â”œâ”€â”€ pyproject.toml                 # í”„ë¡œì íŠ¸ ì„¤ì •
â””â”€â”€ README.md
```

## ì¬í˜„ ë°©ë²•

### ë°©ë²• 1: Ipynb Notebook

ì „ì²´ íŒŒì´í”„ë¼ì¸ì„ ë‹¨ì¼ ë…¸íŠ¸ë¶ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
# í•´ë‹¹ ë…¸íŠ¸ë¶ì—ì„œ ëª¨ë‘ ì§„í–‰ ê°€ëŠ¥
final_end2end_notebook.ipynb
```

ë…¸íŠ¸ë¶ì€ ë‹¤ìŒ ìˆœì„œë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤:
1. ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ
2. ë°ì´í„° ë¡œë“œ (`data/` â†’ raw data)
3. ë°ì´í„° ì „ì²˜ë¦¬ ë° ë³‘í•© â†’ `outputs/merged_data.csv`
4. Feature Engineering â†’ `outputs/featured_data.csv`
5. V6 Pure External Feature ì„ ë³„
6. Optuna í•˜ì´í¼íŒŒë¼ë¯¸í„° ìµœì í™” (ì•½ 60-90ë¶„ ì†Œìš”)
7. ìµœì¢… í‰ê°€ ë° ì•™ìƒë¸”
8. ê²°ê³¼ ì €ì¥ ë° ì‹œê°í™”

### ë°©ë²• 2: ëª¨ë“ˆë³„ ì‹¤í–‰

```bash
# 1. ë°ì´í„° ë³‘í•©
uv run python -m src.preprocessing.merge_datasets

# 2. Feature Engineering
uv run python -m src.features.feature_pipeline

# 3. Optuna ìµœì í™”
uv run python experiments/v6_2_optuna/optuna_optimization.py
```

## ë°ì´í„° ì„¤ëª…

### ì…ë ¥ ë°ì´í„° (data/)

| íŒŒì¼ | ì„¤ëª… | ì£¼ìš” ì»¬ëŸ¼ |
|------|------|----------|
| `2024boarding.csv` | ìŠ¹í•˜ì°¨ ë°ì´í„° | ë‚ ì§œ, í˜¸ì„ , ì—­ëª…, ì‹œê°„ëŒ€, ìŠ¹ì°¨, í•˜ì°¨ |
| `2024weather.csv` | ê¸°ìƒì²­ ë‚ ì”¨ | ì¼ì‹œ, ê¸°ì˜¨, ê°•ìˆ˜ëŸ‰, ìŠµë„, í’ì†, ì ì„¤ |
| `2024seoul_culture_events.csv` | ë¬¸í™”í–‰ì‚¬ | í–‰ì‚¬ëª…, ì‹œì‘/ì¢…ë£Œì¼, ì§€í•˜ì²  ì ‘ê·¼ì„± |

### ìƒì„± Feature (100+ê°œ)

- **ì‹œê°„ Feature**: ì‹œê°„ Sin/Cos, ìš”ì¼, ì£¼ë§, ê³µíœ´ì¼, ëŸ¬ì‹œì•„ì›Œ, ê³„ì ˆ ë“±
- **ë‚ ì”¨ Feature**: ê¸°ì˜¨ ì¹´í…Œê³ ë¦¬, ê°•ìˆ˜ ì—¬ë¶€, ì²´ê°ì˜¨ë„, ë¶ˆì¾Œì§€ìˆ˜, ê·¹í•œë‚ ì”¨ ë“±
- **ì´ë²¤íŠ¸ Feature**: ì´ë²¤íŠ¸ ìœ ë¬´, ì´ë²¤íŠ¸ ê°•ë„, ì£¼ë§+ì´ë²¤íŠ¸ ì¡°í•© ë“±
- **êµì°¨ Feature**: ì‹œê°„Ã—ìš”ì¼, ë¹„Ã—ëŸ¬ì‹œì•„ì›Œ, í™˜ìŠ¹ì—­Ã—ëŸ¬ì‹œì•„ì›Œ ë“±

## ğŸ“ˆ ì‹¤í—˜ ê²°ê³¼

### V6_2_Optuna ìµœì¢… ê²°ê³¼

| ëª¨ë¸ | RÂ² | ë¹„ê³  |
|------|-----|------|
| LightGBM (Default) | 0.9187 | Baseline |
| LightGBM (Optuna) | 0.9250 | ìµœì í™” |
| XGBoost (Optuna) | 0.9291 | ìµœì í™” |
| CatBoost (Optuna) | 0.9280 | ìµœì í™” |
| **Median Ensemble** | **0.9494** | **ìµœê³  ì„±ëŠ¥** |

### ê°œì„ ìœ¨
- Baseline ëŒ€ë¹„ **3.1%p ê°œì„ ** (MAE ê¸°ì¤€)

## ì£¼ì˜ì‚¬í•­

1. **ë°ì´í„° íŒŒì¼**: `data/` í´ë”ì˜ ì›ë³¸ CSV íŒŒì¼ì´ í•„ìš”í•©ë‹ˆë‹¤
2. **ë©”ëª¨ë¦¬**: ì „ì²´ ë°ì´í„° ì²˜ë¦¬ ì‹œ ìµœì†Œ 8GB RAM ê¶Œì¥
3. **ì‹¤í–‰ ì‹œê°„**: Optuna ìµœì í™” (50 trials Ã— 3 models) ì•½ 60-90ë¶„ ì†Œìš”


